import{r,u as f,A as j,j as e,C as y,a as N,b as v,c as w,d as C,I as u,B as S,e as k,f as A,L as E,g as L,t as P}from"./index-BQ8-_eRI.js";const I=()=>{const[o,x]=r.useState(""),[c,p]=r.useState(""),[i,l]=r.useState(!1),[d,n]=r.useState(""),g=f(),m=r.useContext(j);if(!m)throw new Error("AppContext must be used within an AppProvider");const{setToken:b}=m,h=async a=>{a.preventDefault(),l(!0),n("");try{const s=await fetch(`${L.backend_url}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:c})}),t=await s.json();if(s.ok)localStorage.setItem("token",t.data.token),b(t.data.token),P.success("Account Created Successfully"),g("/onboarding");else{console.error("Signup failed:",t),n(t.error||"Signup failed");return}}catch(s){console.error("Error during signup:",s),n(s instanceof Error?s.message:"An unexpected error occurred")}finally{l(!1)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-amber-50 to-amber-100 p-4",children:e.jsxs(y,{className:"w-full max-w-md shadow-xl rounded-xl overflow-hidden border border-amber-100",children:[e.jsxs(N,{className:"space-y-4 text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-amber-50 border border-amber-100",children:e.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-amber-600 to-amber-600 bg-clip-text text-transparent",children:"MenuLink"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{className:"text-2xl font-bold text-amber-800",children:"Create an Account"}),e.jsx(w,{className:"text-gray-600",children:"Join us today and get started"})]})]}),e.jsx(C,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx(u,{id:"email",placeholder:"your@email.com",type:"email",value:o,onChange:a=>x(a.target.value),required:!0,className:"focus:ring-2 focus:ring-amber-500 focus:border-amber-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx(u,{id:"password",placeholder:"••••••••",type:"password",value:c,onChange:a=>p(a.target.value),required:!0,minLength:6,className:"focus:ring-2 focus:ring-amber-500 focus:border-amber-500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 6 characters"})]}),e.jsx(S,{disabled:i,type:"submit",className:"w-full bg-amber-600 hover:bg-amber-700 transition-colors duration-200 shadow-md",children:i?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Get Started"}),d&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-600 rounded-md text-sm",children:d})]})}),e.jsx(A,{className:"flex justify-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(E,{to:"/signin",className:"font-medium text-amber-600 hover:text-amber-700 hover:underline",children:"Sign in"})]})})]})})};export{I as default};

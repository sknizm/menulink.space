import{r,u as j,A as y,j as e,C as N,a as v,b as w,c as C,d as L,I as x,L as u,B as S,e as k,f as E,g as P,t as A}from"./index-DUpUTzGp.js";function I(){const[o,b]=r.useState(""),[i,h]=r.useState(""),[l,d]=r.useState(!1),[c,t]=r.useState(""),g=j(),m=r.useContext(y);if(!m)throw new Error("AppContext must be used within an AppProvider");const{setToken:f}=m,p=async s=>{s.preventDefault(),d(!0),t("");try{const a=await fetch(`${P.backend_url}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:i})}),n=await a.json();a.ok?(localStorage.setItem("token",n.data.token),f(n.data.token),A.success("Login Successful"),g("/dashboard")):t(n.error||"Login failed")}catch(a){t(a instanceof Error?a.message:"Login failed")}finally{d(!1)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-amber-50 to-amber-100 p-4",children:e.jsxs(N,{className:"w-full max-w-md shadow-xl rounded-xl overflow-hidden border border-amber-100",children:[e.jsxs(v,{className:"space-y-4 text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-amber-50 border border-amber-100",children:e.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-amber-600 to-amber-600 bg-clip-text text-transparent",children:"MenuLink"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{className:"text-2xl font-bold text-amber-800",children:"Login to your Account"}),e.jsx(C,{className:"text-gray-600",children:"Please enter your credentials below"})]})]}),e.jsx(L,{children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx(x,{id:"email",placeholder:"your@email.com",type:"email",value:o,onChange:s=>b(s.target.value),required:!0,className:"focus:ring-2 focus:ring-amber-500 focus:border-amber-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx(x,{id:"password",placeholder:"••••••••",type:"password",value:i,onChange:s=>h(s.target.value),required:!0,className:"focus:ring-2 focus:ring-amber-500 focus:border-amber-500"}),e.jsx("div",{className:"w-full flex justify-end",children:e.jsx(u,{className:"text-xs text-amber-600 hover:text-amber-700 hover:underline",to:"/forgetpassword",children:"Forgot Password?"})})]}),e.jsx(S,{disabled:l,type:"submit",className:"w-full bg-amber-600 hover:bg-amber-700 transition-colors duration-200 shadow-md",children:l?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"}),c&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-600 rounded-md text-sm",children:c})]})}),e.jsx(E,{className:"flex justify-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(u,{to:"/signup",className:"font-medium text-amber-600 hover:text-amber-700 hover:underline",children:"Sign up here"})]})})]})})}export{I as default};
